# 02. 익스트림 프로그래밍 소개

## 고객 팀 구성원
누가 고객인가? XP팀의 고객은 기능 요소를 정의하고 우선순위를 매기는 개인 또는 그룹이다.  
고객은 개발자와 같은 회사에서 일하는 업무 분석가나 마케팅 전문가의 그룹일 수 있다. 때대로 고객은 사용자를 대신하는 대리인일 수 있다.  
XP 프로젝트에서는 고객이 누구든 간에 팀의 맴버이며, 팀에서 일할 수 있다.  
  
고객과의 거리가 멀어질수록 고객이 팀원이 되기는 어려워진다.  
고객이 가까운곳에 있을 수 없다면? 가까이 있을 뿐만 아니라 실제 고객을 대신할 수 있고 그럴 의지가 있는 사람을 찾아보자.

## 사용자 스토리 
일정 계획을 세우기 위해서는 요구사항에 대해 알아야 하지만, 아주 자세히 알 필요는 없다. 요구사항을 추정할 정도만 되면 됨.  
요구사항의 구체적인 세부 내용은 시간이 지남에 따라 바뀌기 쉽다. 특히 고객이 시스템이 동작하는것을 보면서부터.  
XP를 사용할 때는 고객과 대화함으로써 요구사항의 세부 내용에 대한 감을 잡지만, 세부사항을 기록하지는 않는다.  
그보다도 같이 합의해서 정한 색인 카드에 **몇 개의 단어**를 적어 그 대화 내용을 기억한다.  
사용자 스토리란 현재 진행중인 요구사항에 관한 연상기호이다.

## 짧은 반복
XP 프로젝트는 개발 중인 소프트웨어를 2주마다 공개한다.

### 반복 계획
반복은 보통 2주 단위로 진행된다. 이것은 최종 제품에 반영될 수도, 그렇지 않을 수도 있는 마이너 공개임을 뜻한다.  
반복계획은 개발자가 제시한 예산에 맞춰 고객이 선택한 사용자 스토리의 집합이다.  
  
일단 반복이 시작되면, 고객은 그 반복 동안에는 스토리 정의나 우선순위를 바꾸지 않는다고 동의한다. 이 시기동안 개발자는 합리적인 순서로 테스크를 수행한다.

### 릴리즈 계획
XP팀은 종종 다음 약 6번의 반복 일정을 정밀하게 표현하는 릴리즈 계획을 만든다. 릴리즈는 대개 3개월 동안을 의미하며, 보통 최종 제품에 포함되는 메이저 공개를 뜻한다.  
릴리즈 계획은 개발자가 제시한 예산에 맞춰 고객이 선택한  우선순위가 정해진 사용자 스토리의 묶음으로 구성된다.  
  
릴리즈는 절대적인 것이 아니다. 고객은 요구 내용을 언제든지 변경할 수 있다.

## 인수 테스트
사용자 스토리의 세부사항은 고객이 명시한 인수테스트의 형태로 기록된다. 이 테스트는 시스템이 고객이 명시한 대로 동작하는지 여부를 검증한다.  
  
고객은 인수테스트를 위한 간단한 스크립트 시스템을 개발하기 위해 개발자를 새로 모집할 수도 있고, QA부서를 운영할 수도 있다.  
  
일단 시스템이 인수 테스트를 통과하면, 통과한 테스트의 본문에 추가되고 다시 실패하는 것이 허용되지 않는다.  
만약 인수테스트가 실패하면 그 빌드는 실패를 선언한다.

## 짝 프로그래밍
모든 운영코드는 같은 워크스테이션으로 일하는 프로그래머 짝들에 의해 작성된다.  
각 짝의 한 맴버는 키보드를 잡고 코드를 입력한다. 다른 한 맴버는 입력되는 코드를 보면서 에러와 개선점을 찾는다.  
  
이 프로그래머 짝의 역할은 자주 바뀌는데, 입력하는 사람이 지치거나 지겨워하면 짝의 동료가 키보드를 대신 잡고 입력을 시작한다.  
결과물 코드는 두 맴버가 함께 설계하고 만들어낸 것이다. 둘 중 어느 누구도 그 공적의 반 이상을 갖지 않는다.  
한 반복 과정 동안 팀의 모든 맴버는 팀의 다른 모든 맴버와 함께 일해봐야 하고, 그 반복 과정에서 진행되는 모든 작업을 해봐야 한다.  

## 테스트 주도 개발
모든 운영 코드는 실패하는 단위 테스트를 통과하기 위해 작성된다.  
우선, 우리는 프로그램에 테스트하는 기능이 구현되어 있지 않기 때문에 당연히 실패하는 유닛테스트 프로그램을 작성한다. 그런 다음, 그 테스트를 통과하는 코드를 작성한다.  
  
테스트 케이스의 완성된 본문은 코드와 함께 발전한다. 이 방식은 리팩토링은 굉장히 용이하게 만든다.  
테스트 케이스를 통과하기 위한 코드를 작성한다면, 그 코드는 당연히 테스트 가능한 것이어야 한다.  
그리고 코드를 모듈별로 분리하여 각각 독립적으로 테스트될 수 있게 해야 한다.

## 공동 소유권
짝은 어떤 모듈이라도 점검하고 개선할 권리를 갖는다.  
프로그래머는 하나의 개별적인 모듈이나 기술에 대해 개인적으로 책임을 지지 않는다.  
이것은 XP가 전문성을 부정한다는 뜻이 아니다. 다들 전문가와 함께 일해보며 전문성을 키우는 것이다.  

## 지속적인 통합
개발자는 자신의 코드를 하루에 몇번씩이나 통합한다.  
XP팀은 비차단 소스 제어(nonblocking source control)방식을 사용한다. 이것은 다른 사람이 체크아웃해간 것에 대한 고려 없이, 프로그래머들이 아무 때나 어떤 모듈이라도 체크아웃하도록 허용한다는 뜻이다.  
개발자가 모듈을 수정하고 난 뒤에 그것을 다시 체크인 하려면, 먼저 작업한 사람들과 병합할 준비가 되어야 할것이고, 충돌을 피하기 위해 매우 빈번하게 체크인한다.  
   
그들이 변경한 부분이 통합되면, 새로운 시스템을 빌드한다. 현재의 인수 테스트를 포함해서 시스템에 있는 모든 테스트를 실행한다. 테스트가 실패하면 그 부분을 수정하고 성공하면 체크인을 마친다.  

## 지속 가능한 속도
소프트웨어 프로젝트는 단거리 경주가 아니라 마라톤이다. 꾸준히 적당한 속도로 달려야한다.  
XP 규칙은 팀이 초과 근무를 하지 않도록 해야 한다는 것이다. 이 규칙의 유일한 예외는 릴리즈의 마지막 주다. 릴리즈라는 골에서 아주 가까운 거리에 있고 종점을 향해 전력 질주를 할 수 있다면, 초과 근무도 무방하다.

## 열린 작업 공간
팀은 열린 공간에서 함께 일한다.  
팀원들 각각은 누군가에게 문제가 생겼을 때 그것을 들을 수 있다. 각 팀원은 서로의 상태를 잘 알고 있으며, 개발자들은 집중적으로 대화할 수 있는 위치에 있다.  

## 계획 세우기 게임
계획 세우기 게임의 정수는 업무와 개발의 책임 분리에 있다.  
업무 관련 인력(고객)은 기능 요소가 얼마나 중요한지를 결정하고, 개발자는 그 기능 요소를 구현하는 데 얼마나 비용이 들것인지를 결정한다.  
릴리즈 반복을 시작할 때, 개발자는 가장 최근의 반복이나 릴리즈에서 완성할 수 있었단 양을 기준으로 예산을 세워 고객에게 제출한다.  
고객은 총비용의 합이 예산을 넘지 않는 정도로 스토리를 선택한다.  

## 단순한 설계
XP팀은 그들의 설계를 가능한 한 단순하고 표현적으로 만든다.  
현재 반복에서 할 스토리에만 초점을 맞추고 다음에 작업할 스토리에 대해서는 걱정하지 않는다.  
마이그레이션가능한 설계만 하면 된다.  
기반구조를 이용해 시작하지 않을것을 뜻한다.(DB를 뭘쓰느냐 같은)  
  
다음 세 가지 XP 지침을 따르자
 - 어떻게든 동작하는 가장 단순한 것을 생각한다.
 - 필요하지 않을 것이라는 가정에서 시작한다.
 - 코드를 중복해서 쓰지 않는다.


## 리팩토링
코드는 부패하기 쉽다. 점검하지 않은 채로 내버려두면, 이 망가진 코드는 건드릴 수 없는 수준이 된다.  
XP팀은 이런 퇴화를 잦은 리팩토링으로 반전시킨다. 리팩토링은 행위에 영향을 주지 않고 시스템의 구조를 개선하는 작은 변화를 만드는 행위.  
각각의 작은 변환이 일어 나면, 아무 문제도 없음을 확인하기 위해 단위테스트를 실시한다.  

## 메타포
메타포는 전체 시스템을 하나로 묶는 큰 그림이다. 시스템의 비전이다.


































